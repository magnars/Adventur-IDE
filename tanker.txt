-------------------

Neste: åpne og hoppe til rom

Etter det: nesting --> fragments med x-komponent? må nok det ja. startY -> offset: [x, y]

--------------------

Page har Document:
  - Det er en måte å beholde cursor-posisionen.
  - Da kan man hoppe til et annet rom uten å lagre ... feature? tror det føles som bug

--------------------

Command får ikke List<String> lines
- den får istedet et DocumentFragment
   - et DocumentFragment er et view inn i dokumentet
   - med en index og en lengde
   - når dokumentet endres, oppdaterer den tilkoblede fragmenter
   - DocumentFragment tilbyr metoder for å endre teksten
      - oversettes til Document-index og sendes rett videre

--------------------

En paragraf representeres med ':'
  - en paragraf med cursor på linja er uten ':'
  - en paragraf på øverste nivå er uten ':'


---------------------

 - View: tegner tekst og cursor på en skjerm med farger, understreking, fonter

 - Editor: lar deg flytte cursor rundt i en tekst og gjøre endringer på den med tastetrykk

 - Parser: gjør flat tekst om til kommandoer

 - Command: domeneobjekt, kan si noe om sin egen rendring

---------------------

 TextRenderer vet ikke om annet enn rendring. Tar bare imot en rekke linjer og en cursor.

 Application åpner vinduet, instansierer Editor og View. Lytter på events.
   Tastetrykk sendes til Editor.

 Editor kjenner til den flate teksten, cursor-posisjon og selection.
   Tar i mot tastetrykk for å endre tekst.

 Den aktive Command (cursor er på linja) ligger utenpå Editor, og kan filtrere tastetrykk og justere TextLayout.

 En Page har et nummer, kan lagres, inneholder Commands, og kan også filtrere tastetykk og justere layout -> eksempelvis tab mellom commands.

 TextLayout er en liste med Line som består av Text, sendes til View for rendring sammen med Cursor


-------------------

 Kommandoen har flere roller:
   - static: parse tekst til seg selv (old + new)
   - rendre seg som tekst (old script)
   - rendre seg som Line (new script)
   - får cursoren hvis aktiv
      - tar vare på teksten den parset
      - er texten i Line forskjellig, og jeg har cursor -> flytt cursor

[Y] + [X] kan løses ved at de vet om hverandre
 - ved rendring av Lines, sender [Y] en tom array hvis den er helt standard

---------------------

Ettersom jeg kaster alle Commands og parser hele teksten på nytt når brukeren gjør endringer,
så legger det føringer for hvordan DocumentFragments brukes. De må nemlig cleares hver gang
jeg parser, for at ikke utdaterte Commands skal leve videre i en grotesk vandød tilstand.

---------------------

Document testes gjennom tre forskjellige klasser:
   - DocumentTest bryr seg først og fremst om at cursoren oppdateres riktig når teksten endres.
   - DocumentFragmentTest sjekker grunnfunksjonalitet når den tester integrasjon, samt oppdatering av Fragments.
   - EditorTest sjekker at de "lettere abstrakte" Document-metodene mapper godt over til lettforståelige tastetrykk.
